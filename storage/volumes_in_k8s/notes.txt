volumes

examples

a single node cluster, we create a pod that generates random number from 1 and 100 and writes to a file /opt/number.out

 To retain the number generated by the pod we need to create a volume and attach it to the pod.

 using below definition.

And a Volume needs a storage, there are many storage types supported. in this example we use Directory type.

---
apiVersion: v1
kind: Pod 
metadata : 
  name: random-number-generator 
spec : 
  containers : 
  - image: alpine 
    name: alpine 
    command: ["/bin/sh", "-c"l 
    args: ["shuf —i 0—1 DO -n /opt/number .out;"] 
    volumeMounts:
    - mountPath: /opt
      name: data-volume

  volumes:
  - name: data-volume
    hostPath:
      path: /data
      type: Directory

Volume storage options
- Here we used Directory. -- Not work in multinode cluster
- Other options are NFS, GlusterFS, ceph, Flocker etc.